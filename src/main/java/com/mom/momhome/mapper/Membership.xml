<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
	 PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
	 "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="Membership">
	<select id="Membership_getInfo" parameterType="MembershipDto" resultType="MembershipDto">
			select * from membership
		</select>
		
	<select id="Membership_getMembership" parameterType="String" resultType="MembershipDto">
		select 
			membership_key
			,user_key
			,team_key
			,membership_role
			,team_joindate
		from membership where user_key=#{ user_key }
	</select>
	
	<insert id="Membership_insertMember " parameterType="MembershipDto">
		insert into membership(
			user_key
			,team_key
			,membership_role
			,team_joindate
		) value(
			#{ user_key }
			,#{ team_key }
			,'2'
			,now()
		)
	</insert>
</mapper>